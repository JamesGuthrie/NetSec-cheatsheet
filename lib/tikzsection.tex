\usepackage{tikz}

\tikzset{
  % Styling of header text is done using key/value options for TikZ nodes. See
  % section 16.4 of the PGF manual for a complete list of options that affect
  % text.
  headings/base/.style = {
    % Zap node seperation, set text width and alignment.
    outer sep = 0pt,
    % Trim off 2/3rd of an em to compensate for the inner xsep which spaces the
    % text nicely away from the left side, but causes the node to hang into the
    % right margin.
    text width = {\textwidth - 0.6666em},
    align = left,
    text = white,
  },
  headings/section/.style = {
    headings/base,
    fill = blue!50,
    font = \sffamily\Large
  },
  headings/subsection/.style = {
    headings/base,
    fill = blue!25,
    font = \sffamily\large
  }
}

\newcommand{\colorboxedsec}[2]{%
  \tikz{\node[headings/#1]{#2};}}

\setkomafont{section}{\colorboxedsec{section}}
\setkomafont{subsection}{\colorboxedsec{subsection}}
